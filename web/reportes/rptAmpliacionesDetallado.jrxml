<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptAmpliacionesDetallado" language="groovy" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="d08c2163-aa59-4226-a299-145bee118e5f">
	<property name="ireport.zoom" value="1.2100000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Table Dataset 1" uuid="f35a429f-5fca-46f3-9a38-51cb2470a5e1"/>
	<parameter name="IMG_DIR" class="java.lang.String"/>
	<parameter name="OFICIO" class="java.lang.String"/>
	<parameter name="TIPO" class="java.lang.String"/>
	<parameter name="YEAR" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT AMP.OFICIO,
         OFI.TIPO,
         OFI.CONSEC,
         AMP.RAMO,
         AMP.PARTIDA,
         AMP.IMPTE,
         MOVS.FECHAELAB,
         PAR.DESCR,
         P.GOBIERNO,
         P.SECRETARIA,
         AMP.PRG,
         AMP.DEPTO,
         MOVS.STATUS,
         P.LOGO,		amp.RAMO||'-'||amp.DEPTO||'-'||amp.PRG||'-'||amp.TIPO_PROY||LPAD(amp.PROYECTO, PLC.PROYECTO, '0')||'-'|| LPAD(amp.META, PLC.META,
   '0')||'-'||LPAD(amp.ACCION, PLC.ACCION, '0')||'-'||amp.PARTIDA||'-'||amp.TIPO_GASTO||'-'|| LPAD(amp.FUENTE, PLC.FUENTE, '0')||LPAD(
   amp.FONDO, PLC.FONDO, '0')||LPAD(amp.RECURSO, PLC.RECURSO, '0')||'-'|| amp.REL_LABORAL AS CODIGO_DISPLAY
    FROM SPP.AMPLIACIONES AMP,
         DGI.OFICONS OFI,
         DGI.PARTIDA PAR,
         POA.MOVOFICIOS MOVS,
         DGI.PARAMETROS P,
	dgi.param_long_codigo PLC
   WHERE ( AMP.OFICIO = OFI.OFICIO ) and
         ( AMP.CONSEC = OFI.CONSEC ) and
         ( AMP.PARTIDA = PAR.PARTIDA ) and
         ( MOVS.OFICIO = AMP.OFICIO ) and
         ( ( OFI.OFICIO = $P{OFICIO}) AND
         ( OFI.TIPO = $P{TIPO} ) ) AND
         PAR.YEAR = $P{YEAR} AND
         PLC.YEAR = PAR.YEAR]]>
	</queryString>
	<field name="OFICIO" class="java.math.BigDecimal"/>
	<field name="TIPO" class="java.lang.String"/>
	<field name="CONSEC" class="java.math.BigDecimal"/>
	<field name="RAMO" class="java.lang.String"/>
	<field name="PARTIDA" class="java.lang.String"/>
	<field name="IMPTE" class="java.math.BigDecimal"/>
	<field name="FECHAELAB" class="java.sql.Timestamp"/>
	<field name="DESCR" class="java.lang.String"/>
	<field name="GOBIERNO" class="java.lang.String"/>
	<field name="SECRETARIA" class="java.lang.String"/>
	<field name="PRG" class="java.lang.String"/>
	<field name="DEPTO" class="java.lang.String"/>
	<field name="STATUS" class="java.lang.String"/>
	<field name="LOGO" class="java.lang.String"/>
	<field name="CODIGO_DISPLAY" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="143">
			<textField>
				<reportElement uuid="78c2c8d1-f827-4cf8-96ca-fe2f225b94b2" x="175" y="0" width="429" height="20"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{GOBIERNO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="5f5a910b-9768-44bf-99aa-6d087bb1b1d8" x="175" y="20" width="429" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SECRETARIA}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="3b651214-d8a4-4f8f-8268-693f81bc0d29" x="2" y="78" width="752" height="1"/>
			</line>
			<image hAlign="Center" vAlign="Middle">
				<reportElement uuid="58b6077c-f671-48f9-994e-61f8b829195c" stretchType="RelativeToBandHeight" x="0" y="0" width="67" height="56"/>
				<imageExpression><![CDATA[$P{IMG_DIR}+"EDO.gif"]]></imageExpression>
			</image>
			<elementGroup/>
			<elementGroup/>
			<elementGroup/>
			<elementGroup/>
			<elementGroup>
				<elementGroup/>
			</elementGroup>
			<elementGroup/>
			<elementGroup/>
			<textField pattern="dd/MM/yyyy">
				<reportElement uuid="fffeb213-d7b3-455f-b091-f037bc24cfd8" x="601" y="56" width="100" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="1b5cb975-d6f8-46a0-a4dc-9cb5a02fe8c4" x="201" y="79" width="429" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{STATUS}.equals('C') || $F{STATUS}.equals('R') || $F{STATUS}.equals('M')
    ?"<FOLIO CANCELADO>":( $F{STATUS}.equals('A')? "<AUTORIZADO>": "<SIN AFECTACION A PRESUPUESTO>"))]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="0e950660-c529-41af-9057-71827657369f" x="13" y="79" width="84" height="20"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["FOLIO #"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="b7c6ee94-d6e7-4ee0-bdb4-386b93e0460c" x="13" y="99" width="84" height="20"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["FECHA:"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="d67acbfa-9edf-431b-afa0-3b862f43ae2c" x="13" y="119" width="84" height="20"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["MOV."]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="8fe3246b-7313-452f-875c-6bca3cfc70c4" x="2" y="139" width="752" height="1"/>
			</line>
			<textField>
				<reportElement uuid="97024254-f277-44aa-99be-19491bdde04a" x="107" y="119" width="208" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["CODIGO"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="fc747ffa-7bb2-4698-9245-f8e2fa6eed22" x="326" y="119" width="77" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["IMPORTE"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="2dea89f7-b13f-4477-b9cf-6dc4567f0b8b" x="418" y="120" width="314" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["DESCRIPCION"]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement uuid="1980357b-687d-4f17-8d19-f6d17b21590f" x="107" y="99" width="79" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{FECHAELAB}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="f0db9971-4035-43ea-ab10-6c172805c7d5" x="107" y="78" width="79" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$P{OFICIO}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="26">
			<textField>
				<reportElement uuid="c8b11625-2932-4fd0-8cf9-3386da69c2ef" x="326" y="3" width="77" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{IMPTE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="b8b22ea8-e07b-47ee-8bba-066e06b5d6ba" x="418" y="3" width="314" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{DESCR}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="041a8a6b-8c22-46f0-a333-9a8f74325d0d" x="13" y="3" width="84" height="20"/>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$P{TIPO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="73fe6cbb-e6e5-4368-b7a3-bf030bc99e49" x="107" y="3" width="208" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{CODIGO_DISPLAY}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="18" splitType="Stretch">
			<line>
				<reportElement uuid="14384326-65ae-4666-91b9-2e968419c11a" x="1" y="2" width="752" height="1"/>
			</line>
			<textField evaluationTime="Report">
				<reportElement uuid="3b02f55a-e207-4cfa-8950-d2096a25a095" x="701" y="5" width="31" height="10"/>
				<textElement>
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[" de " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="8dbb6c57-25ff-4cac-aebe-f8eaa0af6c0f" x="658" y="5" width="43" height="10"/>
				<textElement textAlignment="Right">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["PÃ¡gina "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH.mm.ss">
				<reportElement uuid="76c669b9-f019-41a6-ab9c-0777c5fec37e" x="2" y="3" width="146" height="10"/>
				<textElement textAlignment="Center">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["rptAmpliacionesDetallado"]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy HH.mm.ss">
				<reportElement uuid="f268e53d-217c-4286-a0e9-271659397c18" x="315" y="3" width="128" height="12"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
