<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="subRptObservacion" language="groovy" pageWidth="745" pageHeight="10" orientation="Landscape" columnWidth="745" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isIgnorePagination="true" uuid="ce3c0fd4-e12e-4fb2-97c0-184c020e82bc">
	<property name="ireport.zoom" value="5.0"/>
	<property name="ireport.x" value="451"/>
	<property name="ireport.y" value="0"/>
	<parameter name="META" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="RAMO" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="YEAR" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="PERIODO" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT DGI.AVANCE.OBSERVA,
       DGI.AVANCE.PERIODO,
       POA.F_DESCR_MES(DGI.AVANCE.PERIODO) AS MES_DESC,
       DGI.ESTIMACION_PERIODO.EVALUACION
    FROM DGI.AVANCE,
         DGI.ESTIMACION_PERIODO
   WHERE ( DGI.AVANCE.PERIODO = DGI.ESTIMACION_PERIODO.PERIODO ) and
         ( ( DGI.AVANCE.META = $P{META} ) AND
         ( DGI.AVANCE.RAMO = $P{RAMO} ) AND
         ( DGI.AVANCE.YEAR = $P{YEAR} ) AND
			( DGI.ESTIMACION_PERIODO.EVALUACION <= $P{PERIODO}) and
         (DGI.AVANCE.PERIODO IN(3,6,9,12)) AND
         ( DGI.AVANCE.OBSERVA is not NULL )  )]]>
	</queryString>
	<field name="OBSERVA" class="java.lang.String"/>
	<field name="PERIODO" class="java.math.BigDecimal"/>
	<field name="MES_DESC" class="java.lang.String"/>
	<field name="EVALUACION" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="10" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="798bba31-2915-407b-894d-35d4b75b8063" stretchType="RelativeToTallestObject" x="91" y="0" width="626" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{OBSERVA}.trim().length()>0]]></printWhenExpression>
				</reportElement>
				<box>
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="5" isPdfEmbedded="true"/>
					<paragraph leftIndent="25" rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{MES_DESC}+ "    " +$F{OBSERVA}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="28a2d290-d095-47dc-8d78-92cf13acb288" stretchType="RelativeToTallestObject" x="2" y="0" width="89" height="10" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[$F{OBSERVA}.trim().length()>0]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{EVALUACION} == 1 ? "PRIMER PERIODO" :
$F{EVALUACION} == 2 ? "SEGUNDO PERIODO" :
$F{EVALUACION} == 3 ? "TERCER PERIODO" :
$F{EVALUACION} == 4 ? "CUARTO PERIODO" : "SIN PERIODO"]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
