<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptAmpliacionesDetallado" language="groovy" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="772" leftMargin="10" rightMargin="10" topMargin="20" bottomMargin="20" uuid="d08c2163-aa59-4226-a299-145bee118e5f">
	<property name="ireport.zoom" value="1.2100000000000006"/>
	<property name="ireport.x" value="124"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Table Dataset 1" uuid="f35a429f-5fca-46f3-9a38-51cb2470a5e1"/>
	<parameter name="IMG_DIR" class="java.lang.String"/>
	<parameter name="OFICIO" class="java.lang.Long"/>
	<parameter name="TIPO" class="java.lang.String"/>
	<parameter name="YEAR" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\desarrollo\\repositorio_local\\POA_RKL\\trunk\\POA\\web\\reportes\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="ESTATUS" class="java.lang.String"/>
	<parameter name="RPT_DIR" class="java.lang.String">
		<defaultValueExpression><![CDATA["C:\\desarrollo\\repositorio_local\\POA_RKL\\trunk\\POA\\web\\reportes\\repAmpTrans\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="CODIGOCOMPLETO" class="java.lang.String"/>
	<parameter name="TIPOFICIO" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT AMP.OFICIO,
         OFI.TIPO,
         OFI.CONSEC,
         AMP.RAMO,
         AMP.PARTIDA,
         AMP.ACCION,
         AMP.IMPTE,
         MOVS.FECHAELAB,
         PAR.DESCR,
         P.GOBIERNO,
         P.SECRETARIA,
         AMP.PRG,
         AMP.DEPTO,
         MOVS.STATUS,
         P.LOGO,
         amp.RAMO||'-'||amp.DEPTO||'-'||amp.PRG||'-'||amp.TIPO_PROY||LPAD(amp.PROYECTO, PLC.PROYECTO, '0')||'-'|| LPAD(amp.META, PLC.META,'0')||'-'||LPAD(amp.ACCION, PLC.ACCION, '0')||'-'||amp.PARTIDA||'-'||amp.TIPO_GASTO||'-'|| LPAD(amp.FUENTE, PLC.FUENTE, '0')||LPAD(amp.FONDO, PLC.FONDO, '0')||LPAD(amp.RECURSO, PLC.RECURSO, '0')||'-'|| amp.REL_LABORAL AS CODIGO_DISPLAY,
amp.RAMO||'-'||amp.PRG||'-'||amp.DEPTO||'-'||amp.PARTIDA AS CODIGO_CORTO,
DBMS_LOB.substr(MOVS.JUSTIFICACION, DBMS_LOB.getlength(MOVS.JUSTIFICACION), 1) as JUSTIFICACION,
   AMP.META
    FROM SPP.AMPLIACIONES AMP,
         DGI.OFICONS OFI,
         DGI.PARTIDA PAR,
         POA.MOVOFICIOS MOVS,
         DGI.PARAMETROS P,
         S_DGI_PARAM_LONG_COD PLC
   WHERE ( AMP.OFICIO = OFI.OFICIO ) and
         ( AMP.CONSEC = OFI.CONSEC ) and
         ( AMP.PARTIDA = PAR.PARTIDA ) and
         ( MOVS.OFICIO = AMP.OFICIO ) and
         ( ( OFI.OFICIO = $P{OFICIO}) AND
         ( OFI.TIPO = $P{TIPOFICIO}) ) AND
         PAR.YEAR = $P{YEAR} AND
         PLC.YEAR = PAR.YEAR]]>
	</queryString>
	<field name="OFICIO" class="java.math.BigDecimal"/>
	<field name="TIPO" class="java.lang.String"/>
	<field name="CONSEC" class="java.math.BigDecimal"/>
	<field name="RAMO" class="java.lang.String"/>
	<field name="PARTIDA" class="java.lang.String"/>
	<field name="ACCION" class="java.math.BigDecimal"/>
	<field name="IMPTE" class="java.math.BigDecimal"/>
	<field name="FECHAELAB" class="java.sql.Timestamp"/>
	<field name="DESCR" class="java.lang.String"/>
	<field name="GOBIERNO" class="java.lang.String"/>
	<field name="SECRETARIA" class="java.lang.String"/>
	<field name="PRG" class="java.lang.String"/>
	<field name="DEPTO" class="java.lang.String"/>
	<field name="STATUS" class="java.lang.String"/>
	<field name="LOGO" class="java.lang.String"/>
	<field name="CODIGO_DISPLAY" class="java.lang.String"/>
	<field name="CODIGO_CORTO" class="java.lang.String"/>
	<field name="JUSTIFICACION" class="java.lang.String"/>
	<field name="META" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="39">
			<elementGroup/>
			<elementGroup/>
			<elementGroup/>
			<elementGroup/>
			<elementGroup>
				<elementGroup/>
			</elementGroup>
			<elementGroup/>
			<elementGroup/>
			<staticText>
				<reportElement uuid="64f1a431-9226-433f-be79-8ee48d4e7fe2" x="13" y="14" width="84" height="20"/>
				<textElement markup="none">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[MOV.]]></text>
			</staticText>
			<textField>
				<reportElement uuid="97024254-f277-44aa-99be-19491bdde04a" x="97" y="2" width="229" height="33"/>
				<textElement textAlignment="Center">
					<font size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{CODIGOCOMPLETO}.equals("S") ? "CÓDIGO\nRA-DEP-PR-ME-ACC-PAR-TG-FFR-RL":"CÓDIGO\nRA-PR-DEP-PAR"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="a8e9629f-16b2-4449-bd57-910b78548ca7" x="326" y="14" width="77" height="20"/>
				<textElement textAlignment="Center" markup="none">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[IMPORTE]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="50225758-5b2a-4a75-a219-f6c5c61f2444" x="403" y="15" width="241" height="20"/>
				<textElement textAlignment="Center" markup="none">
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[DESCRIPCION]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="d6971df3-44cd-4f93-be23-9bbbaa6b5f33" x="644" y="15" width="128" height="20"/>
				<textElement/>
				<text><![CDATA[JUSTIFICACIÓN]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="24">
			<textField pattern="&lt;style forecolor=&quot;black&quot;&gt;¤#,##0.00&lt;/style&gt;;&lt;style forecolor=&quot;red&quot;&gt;¤(#,##0.00)&lt;/style&gt;">
				<reportElement uuid="c8b11625-2932-4fd0-8cf9-3386da69c2ef" x="326" y="3" width="77" height="20"/>
				<textElement textAlignment="Center" markup="styled">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{IMPTE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="b8b22ea8-e07b-47ee-8bba-066e06b5d6ba" x="403" y="3" width="241" height="20"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{DESCR}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="041a8a6b-8c22-46f0-a333-9a8f74325d0d" x="13" y="3" width="84" height="20"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{TIPOFICIO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="73fe6cbb-e6e5-4368-b7a3-bf030bc99e49" x="97" y="3" width="229" height="20"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{CODIGOCOMPLETO}.equals("S")?$F{CODIGO_DISPLAY}:$F{CODIGO_CORTO})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="19a1f5f1-acde-4efe-8c8a-0d51063084c5" x="644" y="0" width="128" height="20"/>
				<textElement/>
				<textFieldExpression><![CDATA[$F{JUSTIFICACION}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
