<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="calendarioPresupuestoEgresosCapituloConceptoAnual" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="12158d63-9b97-4e42-a39c-f0054cebd258">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="ASIGNADO">
		<conditionalStyle>
			<conditionExpression><![CDATA[( $F{ASIGNADO} ) >= 0]]></conditionExpression>
			<style forecolor="#000000" pattern=""/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[( $F{ASIGNADO} ) < 0]]></conditionExpression>
			<style forecolor="#FF0000" pattern=""/>
		</conditionalStyle>
	</style>
	<style name="ASIGNADO_1">
		<conditionalStyle>
			<conditionExpression><![CDATA[( $V{ASIGNADO_1} ) >= 0]]></conditionExpression>
			<style forecolor="#000000" pattern=""/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[( $V{ASIGNADO_1} ) < 0]]></conditionExpression>
			<style forecolor="#FF0000" pattern=""/>
		</conditionalStyle>
	</style>
	<style name="ASIGNADO_2">
		<conditionalStyle>
			<conditionExpression><![CDATA[( $V{ASIGNADO_2} ) >= 0]]></conditionExpression>
			<style forecolor="#000000" pattern=""/>
		</conditionalStyle>
		<conditionalStyle>
			<conditionExpression><![CDATA[( $V{ASIGNADO_2} ) < 0]]></conditionExpression>
			<style forecolor="#FF0000" pattern=""/>
		</conditionalStyle>
	</style>
	<parameter name="YEAR" class="java.lang.Integer"/>
	<parameter name="MILESPESOS" class="java.lang.String"/>
	<parameter name="QUERY" class="java.lang.String"/>
	<parameter name="IMG_DIR" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
DECODE($P{MILESPESOS},'S',SUM(NVL(PPTO.ASIGNADO,0))/1000,SUM(NVL(PPTO.ASIGNADO,0))) AS ASIGNADO,
G.GRUPO AS CAPITULO,
G.DESCR AS CAPITULO_DESCR,
SG.SUBGRUPO AS CONCEPTO,
SG.DESCR AS CONCEPTO_DESCR,
PARAM.GOBIERNO,
PARAM.SECRETARIA,
PARAM.LOGO,
SYSDATE AS FECHA
FROM
SPP.PPTO PPTO,
DGI.PARTIDA PART,
S_DGI_GRUPOS G,
S_DGI_SUBGRUPOS SG,
S_DGI_SUBSUBGPO SSG,
DGI.PARAMETROS PARAM
WHERE
PPTO.YEAR = $P{YEAR} AND
PPTO.PARTIDA = PART.PARTIDA AND
PPTO.YEAR = PART.YEAR AND
PART.SUBSUBGPO = SSG.SUBSUBGRUPO AND
PART.YEAR = SSG.YEAR AND
SSG.SUBGRUPO = SG.SUBGRUPO AND
SSG.YEAR = SG.YEAR AND
SG.GRUPO = G.GRUPO AND
SG.YEAR = G.YEAR AND
$P!{QUERY}
GROUP BY
G.GRUPO,
G.DESCR,
SG.SUBGRUPO,
SG.DESCR,
PARAM.gobierno,
PARAM.secretaria,
PARAM.LOGO
ORDER BY
G.GRUPO,
SG.SUBGRUPO]]>
	</queryString>
	<field name="ASIGNADO" class="java.math.BigDecimal"/>
	<field name="CAPITULO" class="java.lang.String"/>
	<field name="CAPITULO_DESCR" class="java.lang.String"/>
	<field name="CONCEPTO" class="java.lang.String"/>
	<field name="CONCEPTO_DESCR" class="java.lang.String"/>
	<field name="GOBIERNO" class="java.lang.String"/>
	<field name="SECRETARIA" class="java.lang.String"/>
	<field name="LOGO" class="java.lang.String"/>
	<field name="FECHA" class="java.sql.Timestamp"/>
	<variable name="ASIGNADO_1" class="java.math.BigDecimal" resetType="Group" resetGroup="CAPITULO" calculation="Sum">
		<variableExpression><![CDATA[$F{ASIGNADO}]]></variableExpression>
	</variable>
	<variable name="ASIGNADO_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{ASIGNADO}]]></variableExpression>
	</variable>
	<group name="CAPITULO">
		<groupExpression><![CDATA[$F{CAPITULO}]]></groupExpression>
		<groupHeader>
			<band height="12">
				<textField>
					<reportElement uuid="557cee5f-8636-4ff5-a1c4-32c303f62210" x="0" y="0" width="394" height="12"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{CAPITULO_DESCR}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="14">
				<staticText>
					<reportElement uuid="b38831aa-fc3e-4e99-843a-5b6f338ee1a6" x="314" y="1" width="100" height="11"/>
					<textElement textAlignment="Right">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Total Capitulo	]]></text>
				</staticText>
				<textField pattern="$#,##0.00 ;($#,##0.00 )">
					<reportElement uuid="489b9a20-4215-4a66-b5ab-d1c14b2075ed" style="ASIGNADO_1" x="430" y="0" width="125" height="12"/>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{ASIGNADO_1}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="104" splitType="Stretch">
			<staticText>
				<reportElement uuid="913ac7bd-2347-4bf2-96da-9114644c016e" x="0" y="77" width="100" height="11"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Capitulo]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="39788cb9-d915-4671-8110-782e408d347a" x="15" y="88" width="100" height="11"/>
				<textElement>
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Concepto]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="bff86dcf-0a65-463b-ae61-4e1453501962" x="430" y="92" width="125" height="11"/>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<line>
				<reportElement uuid="948b9f85-cf69-4869-8eef-51169b74b480" x="0" y="101" width="555" height="1"/>
			</line>
			<textField evaluationTime="Report" pattern="&lt;style forecolor=&quot;black&quot;&gt;¤#,##0.00&lt;/style&gt;;&lt;style forecolor=&quot;red&quot;&gt;¤(#,##0.00)&lt;/style&gt;">
				<reportElement uuid="0049193b-fe41-4f4c-9598-9bf95037e011" x="430" y="66" width="125" height="11">
					<printWhenExpression><![CDATA[$V{PAGE_NUMBER}.equals(1)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right" markup="styled">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{ASIGNADO_2}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="b26324b1-410e-44f7-a530-c00d7c46cc1b" x="400" y="66" width="29" height="11">
					<printWhenExpression><![CDATA[$V{PAGE_NUMBER}.equals(1)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total	]]></text>
			</staticText>
			<textField pattern="###0">
				<reportElement uuid="5027adf9-0704-4402-9bf1-3ad92d548a16" x="66" y="44" width="489" height="16"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Calendario  de Presupuesto de Egresos para el Ejercicio Fiscal " + $P{YEAR}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="2a2ff50e-2aad-472f-8070-9806b27a7b36" x="66" y="10" width="489" height="18"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{GOBIERNO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="eaa7d204-f14e-4064-afd8-b7d572d5ac3f" x="66" y="28" width="489" height="16"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{SECRETARIA}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement uuid="c43a28db-c73c-4eb3-b7d6-6844b929579e" x="0" y="6" width="66" height="59"/>
				<imageExpression><![CDATA[$P{IMG_DIR}+"EDO.gif"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band height="12" splitType="Stretch">
			<textField pattern="#,##0.00 ;(#,##0.00 )">
				<reportElement uuid="a03f93f1-c70f-4222-8cb8-56d5cbf123ab" style="ASIGNADO" x="430" y="0" width="125" height="11"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{ASIGNADO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="2c88a01b-f80f-43ab-9aa1-9f99d6a04269" x="83" y="1" width="314" height="11"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CONCEPTO_DESCR}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="9c6bfad8-3a04-4d65-8981-2ef0405f720f" x="15" y="1" width="68" height="11"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{CONCEPTO}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="16" splitType="Stretch">
			<staticText>
				<reportElement uuid="cc111eda-a0d8-42e0-a6c1-a619347bcb77" x="0" y="2" width="208" height="12"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[<calendarioPresupuestoEgresosCapituloConceptoAnual>]]></text>
			</staticText>
			<textField>
				<reportElement uuid="90e4899a-bb88-4917-a5dc-9a962c7bd3ce" x="435" y="2" width="80" height="11"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement uuid="ae935633-14ae-4e50-9849-28d7c6ce69ce" x="515" y="2" width="40" height="11"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement uuid="78b36eee-5581-459d-8c80-dc1a4cae9290" x="260" y="2" width="100" height="11"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{FECHA}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="34c74556-51ec-4ba1-944d-c703b4fcc88f" x="0" y="0" width="555" height="1"/>
			</line>
		</band>
	</pageFooter>
</jasperReport>
